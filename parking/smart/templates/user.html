{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking - User Registration</title>
    <link rel="stylesheet" href="{% static 'css/user.css' %}">
</head>
<body>

<nav>
    <div class="logo">
        <img src="{% static 'images/logo.png' %}" alt="Logo"> Smart Parking
    </div>
    <ul id="navLinks">
        <li><a href="{% url 'home' %}">Home</a></li>
    </ul>
    <div class="menu-icon" onclick="toggleMenu()">â˜°</div>
</nav>

<main>
    <form id="userForm" method="POST">
        {% csrf_token %}
        <h2>User Registration</h2>

        <label for="name">Name</label>
        <input type="text" name="name" id="name" required>

        <label for="car_number">Car Number</label>
        <input type="text" name="car_number" id="car_number" required>

        <label for="email">Email</label>
        <input type="email" name="email" id="email" required>

        <label for="phone">Phone</label>
        <input type="tel" name="phone" id="phone" required>

        <!-- Hidden slot field -->
        <input type="hidden" name="slot" id="slot">

        <button type="submit">Submit</button>
    </form>
</main>

<footer>
    &copy; 2025 Smart Parking. All rights reserved.
</footer>

<script>
function toggleMenu() {
    document.getElementById("navLinks").classList.toggle("show");
}

// Fill the hidden slot input with the selected slot from localStorage
window.onload = function() {
    const chosenSlot = localStorage.getItem("chosenSlot");
    if (!chosenSlot) {
        alert("No slot selected! Please select a slot first.");
    } else {
        document.getElementById("slot").value = chosenSlot;
        console.log("Prefilled slot:", chosenSlot);
    }
};
</script>

</body>
</html>
